{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
<meta name="description" content="POS - Bootstrap Admin Template">
<meta name="keywords" content="admin, estimates, bootstrap, business, corporate, creative, invoice, html5, responsive, Projects">
<meta name="author" content="Dreamguys - Bootstrap Admin Template">
<meta name="robots" content="noindex, nofollow">
<title>Forus Health</title>

<link rel="shortcut icon" type="image/x-icon" href="{% static 'images/logo.png' %}">

<link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">

<link rel="stylesheet" href="{% static 'assets/css/animate.css' %}">

<link rel="stylesheet" href="{% static 'assets/plugins/select2/css/select2.min.css' %}">

<link rel="stylesheet" href="{% static 'assets/css/dataTables.bootstrap4.min.css' %}">

<link rel="stylesheet" href="{% static 'assets/plugins/fontawesome/css/fontawesome.min.css' %}">
<link rel="stylesheet" href="{% static 'assets/plugins/fontawesome/css/all.min.css' %}">

<link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
</head>
<body>
  <style type="text/css">
      div.scrollmenu {
  background-color: white;
  overflow: auto;
  white-space: nowrap;
}

div.scrollmenu a {
  display: inline-block;
  color: white;
  text-align: center;
  padding: 14px;
  text-decoration: none;
}


  </style>
  
  <!--Add External Libraries - JQuery and jspdf 
  check out url - https://scotch.io/@nagasaiaytha/generate-pdf-from-html-using-jquery-and-jspdf
  -->
  <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/0.9.0rc1/jspdf.min.js"></script>
<div id="global-loader">
<div class="whirly-loader" > </div>
</div>

<div class="main-wrapper">

<div class="header">

<div >
<a href="recstock" class="logo">
<img src="{% static 'images/forus-health.svg' %}" alt="" style="margin-left:40px; ">
</a>

<!-- <a id="toggle_btn" href="javascript:void(0);">
</a> -->
</div>

<ul class="nav user-menu">

<li class="nav-item">
    
<div class="top-nav-search">
<a href="javascript:void(0);" class="responsive-search">
<i class="fa fa-search"></i>
</a>
    <a href="index1" class="btn btn-cancel" style="margin-left: 920px; margin-top:-113px;">Back</a>
</div>
</li>





<li class="nav-item dropdown has-arrow main-drop">


</div>
</li>
</ul>


<div class="dropdown mobile-user-menu">


</div>

</div>


<div class="sidebar" id="sidebar">
<div class="sidebar-inner slimscroll">
<div id="sidebar-menu" class="sidebar-menu">
<ul>




<li class="submenu">
<a href="javascript:void(0);"><img src="{% static 'assets/img/icons/users1.svg' %}"alt="img"><span> Edit Stock</span> <span class="menu-arrow"></span></a>
<ul>
<li><a href="viewdata">Edit Stock list </a></li>
<li><a href="recstock">Edit Received list </a></li>
<li><a href="Issued">Edit Issued list </a></li>
</ul>

<style>
  
  .circle1 {
      width: 100px;
      height: 100px;
      background: rgba(49, 193, 227,1 );
      color: white;
      border: 2px solid #000;
      border-radius: 50%;
      margin-top: 70px;
      margin-left: 50px;
    }
 </style>
 <div class="circle1" style="text-align: center; " ><b><h2 style="margin-top: 25px;">{{ab1}}</h2></b></div>
<h3>Total Nos. Received</h3>
</li>


<!-- <li class="submenu">
    <a href="javascript:void(0);"><img src="{% static 'assets/img/icons/users1.svg' %}"alt="img"><span> Stock Edit</span> <span class="menu-arrow"></span></a>
    <ul>
    <li><a href="edit">Edit Bin  </a></li>
    </ul>
    </li> -->

</ul>
</div>
</div>
</div>

<div class="page-wrapper"  id="content">
<div class="content">
<div class="page-header">
<div class="page-title">
  
   <!--  <div class="col-lg-12">
   <a href="productedit" class="btn btn-cancel" style="margin-left: 1120px">Back</a>
   </div> 
 -->   
    
  <style>
      * { font-family: calibri; font-size: 20px; }
        
      table
      {
        width: 300px;
      }
      table, th, td 
      {
        border: solid 1px #DDD;
        border-collapse: collapse;
        padding: 2px 3px;
        text-align: center;
      }
    </style>
 <script>
    function createPDF() {
        var sTable = document.getElementById('tab').innerHTML;
        
        var style = "<style>";
        style = style + "table {width: 100%;font: 17px Calibri;}";
        style = style + "table, th, td {border: solid 1px #DDD; border-collapse: collapse;";
        style = style + "padding: 2px 3px;text-align: center;}";
        style = style + "</style>";

        window.document.open();
        window.document.write('<html><head>');
        window.document.write('<h2><center><b>Received List Report</b></center></h2>');   // <title> FOR PDF HEADER.
        window.document.write(style);          // ADD STYLE INSIDE THE HEAD TAG.
        window.document.write('</head>');
        window.document.write('<body>');
        window.document.write(sTable);         // THE TABLE CONTENTS INSIDE THE BODY TAG.
        window.document.write('</body> </html>');
        window.document.close();  
        window.print();
        window.document.location.href = "viewdata";
        
        
    }
  
        function downloadCSV(csv, filename) {
    var csvFile;
    var downloadLink;

    // CSV file
    csvFile = new Blob([csv], {type: "text/csv"});

    // Download link
    downloadLink = document.createElement("a");

    // File name
    downloadLink.download = filename;

    // Create a link to the file
    downloadLink.href = window.URL.createObjectURL(csvFile);

    // Hide download link
    downloadLink.style.display = "none";

    // Add the link to DOM
    document.body.appendChild(downloadLink);

    // Click download link
    downloadLink.click();
}
function exportTableToCSV(filename) {
    var csv = [];
    var rows = document.querySelectorAll("table tr");
    
    for (var i = 0; i < rows.length; i++) {
        var row = [], cols = rows[i].querySelectorAll("td, th");
        
        for (var j = 0; j < cols.length; j++) 
            row.push(cols[j].innerText);
        
        csv.push(row.join(","));        
    }

    // Download CSV file
    downloadCSV(csv.join("\n"), filename);
}

</script>

<h4>Received Edit </h4>
<h6>Edit Received Information: </h6>

</div>
</div>

<div class="card" >
<div class="card-body">
<div class="row">
<div class="scrollmenu">
  <p style="margin-top:5px">
    <a data-bs-toggle="tooltip" title="pdf" ><img src="{% static 'assets/img/icons/pdf.svg' %}" alt="img" style="height: 40px; " type="button" value="Download PDF" 
         id="btPrint" onclick="createPDF('Stock_Raw_Materials.pdf')"></a>

    <a data-bs-toggle="tooltip" title="Excel" ><img src="{% static 'assets/img/icons/Excel.svg' %}" alt="img" style="height: 40px; " type="button" value="Download PDF" 
           id="btPrint" onclick="exportTableToCSV('Received Stock.csv')">
           </a>       
<!-- <button style="background-color:rgba(49, 193, 227,1 );  margin-left:20px;margin-top: -50px;" onclick="exportTableToCSV('Stock_Raw_Materials.csv')" ><h4 style="font-family: sans-serif;color: white; ">Export Stock Data</h4></button> -->
</p>
  <div id="tab">
    <table class="table  datanew ">
        <thead>
        <tr>
        <th>ID</th>  
        <th>ERP Part No </th>
        <th>Previous Balance</th>
        <th>Nos. Received</th>
        <th>Stock Balance</th>
        <th>Reference Document Number</th>
        <th>Remarks</th>
        <th>Edit/Update</th>
        
        </tr>
        </thead>
        <tbody>
            <tr>
                {% for i in rec1 %}
            <td>{{ i.id }}</td>
            <td>{{ i.ERP_NO }}</td>
            <td>{{ i.pb }}</td>
            <td>{{ i.no_received }}</td>
            <td>{{ i.sb }}</td>
            <td>{{ i.rdno }}</td>
            <td>{{ i.remarks }}</td>
            <td>
            <a href="recedit{{i.id}}" style="text-decoration:none;background-color:skyblue; color: white;width: 90px;border-style: solid;border-color: black ;"><b>Edit</b></a></td>
            
             </td>
            </tr>
            
            {% endfor %}

            </tbody>
            </table>
          </div>

</div>

<!-- <br>
<div id="editor"></div>
  <button id="cmd" style="margin-right: 50px;">Generate PDF</button> -->
</div>
</div>
</div>
</div>

</div>
</div>
</div>
</div>
</div>
</div>
</div>

</div>
</div>
</div>


  <!-- <script>
    var doc = new jsPDF();  
var specialElementHandlers = {
  "#editor": function (element, renderer) {
    
    return true;
  }
};

$("#cmd").click(function () {
  doc.fromHTML($("#content").html(), 15, 15, {
    width: 175,
    elementHandlers: specialElementHandlers
  });
  doc.save("sample-file.pdf");
});</script> -->

<script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/0.9.0rc1/jspdf.min.js"></script>
<script src="{% static 'assets/js/jquery-3.6.0.min.js' %}"></script>

<script src="{% static 'assets/js/feather.min.js' %}"></script>

<script src="{% static 'assets/js/jquery.slimscroll.min.js' %}"></script>

<script src="{% static 'assets/js/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'assets/js/dataTables.bootstrap4.min.js' %}"></script>

<script src="{% static 'assets/js/bootstrap.bundle.min.js' %}"></script>

<script src="{% static 'assets/plugins/select2/js/select2.min.js' %}"></script>

<script src="{% static 'assets/plugins/sweetalert/sweetalert2.all.min.js' %}"></script>
<script src="{% static 'assets/plugins/sweetalert/sweetalerts.min.js' %}"></script>

<script src="{% static 'assets/js/script.js' %}"></script>
</body>
</html>



  <!--Add External Libraries - JQuery and jspdf 
  check out url - https://scotch.io/@nagasaiaytha/generate-pdf-from-html-using-jquery-and-jspdf
  -->
